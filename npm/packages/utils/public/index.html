<!DOCTYPE html>

<html>
  <!-- TEMPLATE FOR hn-webcomp-header -->
  <template id="test-component-template">
    <% for (var css in htmlWebpackPlugin.files.css) { %>
    <link href="<%= htmlWebpackPlugin.files.css[css] %>" rel="stylesheet" />
    <% } %>
    <section>
      <slot></slot>
    </section>
  </template>
  <head> </head>
  <body>
    <test-component id="example-component" tester="yooo" lester="asdasd"></test-component>
    <div class="tester">
      This text comes from the /public/index-html file
      <button onclick="func()">
        asdasd
      </button>
    </div>
    <!-- THIS IS FOR ALL THE OTHER JS CHUNKS - WE MAKE IT PROD ONLY SO WEBBACK-DEV-SERVE CAN OUTPUT WITH HOT RELOAD INSTEAD  -->

    <% if (htmlWebpackPlugin.options.environment.production){ %> <% for (var js in htmlWebpackPlugin.files.js) { %>
    <script src="<%= htmlWebpackPlugin.files.js[js] %>"></script>
    <% } %> <% } %>

    <!-- USUALLY YOU WOULD IMPORT htmlWebpackPlugin.tags.headTags HERE TO GET CSS FROM VENDORS AND VERTICAL BUT YOU DON'T WANT IT HERE CAUSE WE JUST WORK WITH OUR WEBCOMP -->
    <script>
      let doc = document.getElementById('example-component');
      const func = () => {
        if (doc && doc.dispatchEvent) {
          doc.dispatchEvent(new CustomEvent('subevent', { detail: { test: 'hei' } }));
        }
      };
    </script>
  </body>
</html>
